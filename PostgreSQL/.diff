2c2
< version: '3.4'
---
> version: '3'
5c5
<         image: postgres-klaros_db
---
>         image: mssql-2017
8c8
<         container_name: ${DATABASE_CONTAINER_NAME}
---
>         container_name: db
10,11d9
<         env_file:
<             ./.env
13,16c11,26
<             POSTGRES_DB: ${DATABASE_NAME}
<             POSTGRES_USER: ${DATABASE_USER}
<             POSTGRES_PASSWORD: ${DATABASE_PASSWORD}
<             TZ: ${TIMEZONE}
---
>             DATABASE_NAME: ${DATABASE_NAME}
>             DATABASE_USER: ${DATABASE_USER}
>             SA_PASSWORD: ${SA_PASSWORD}
>             MSSQL_PID: Developer
>             ACCEPT_EULA: Y
>             MSSQL_AGENT_ENABLED: 'true'
>             MSSQL_ENABLE_HADR: 1
>             MSSQL_BACKUP_DIR: '/backup'
>             TZ: Europe/Berlin
>             LANG: en_US.UTF-8
>             LANGUAGE: en_US:en
>             LC_ALL: en_US.UTF-8
>         volumes:
>             - /etc/localtime:/etc/localtime:ro
>             - ./data_db:/var/opt/mssql
>             - ./backup:/backup
18c28
<             - "${DATABASE_PORT}:5432"
---
>             - "10001:1433"
20,22c30
<             - postgresql-net
<         volumes:
<             - klaros-data:/data
---
>             - sqlserver-net
25,29c33,34
<         image: klaros-postgresql
<         build: 
<             context: ./klaros
<             args:
<                 TOMCAT_ADMIN_PASSWORD: ${TOMCAT_PASSWORD}
---
>         image: klaros-mssql2017
>         build: klaros
31c36
<         container_name: ${KLAROS_CONTAINER_NAME}
---
>         container_name: klaros_mssql2017
33,34d37
<         env_file:
<             ./.env
38,41c41,44
<             DATABASE_PASSWORD: ${DATABASE_PASSWORD}
<             JAVA_OPTS: -Duser.timezone=${TIMEZONE}
<             TOMCAT_MEMORY_MAX: ${MEMORY_MAX}
<             TOMCAT_MEMORY_MIN: ${MEMORY_MIN}
---
>             SA_PASSWORD: ${SA_PASSWORD}
>         volumes:
>             - /etc/localtime:/etc/localtime:ro
>             - ./data_klaros:/klaros-data
43c46
<             - "${KLAROS_PORT}:18080"
---
>             - "18080:18080"
47,49c50
<             - postgresql-net
<         volumes:
<             - klaros-data:/data
---
>             - sqlserver-net
52,55c53
<     postgresql-net:
< volumes:
<     klaros-data:
<         name: ${VOLUME_NAME}
---
>     sqlserver-net:
\ No newline at end of file
